<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebSocket Client Example</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        #messages { border: 1px solid #ccc; padding: 10px; height: 200px; overflow-y: scroll; margin-bottom: 10px; }
        .message { margin-bottom: 5px; }
        .server { color: blue; }
        .client { color: green; }
        .error { color: red; }
    </style>
</head>
<body>
    <h1>WebSocket Client Example</h1>
    <div>
        <label for="wsUrl">WebSocket URL:</label>
        <input type="text" id="wsUrl" value="ws://localhost:3001">
        <button id="connectBtn">Connect</button>
        <button id="disconnectBtn" disabled>Disconnect</button>
    </div>
    <div id="messages"></div>
    <hr>
    <div>
        <h3>Client State:</h3>
        <p>Client ID: <span id="clientIdSpan">N/A</span></p>
        <p>Temporary ID: <span id="tempIdSpan">N/A</span></p>
        <p>Auth Token: <input type="text" id="authTokenInput" placeholder="Enter auth token if known" size="40"></p>
        <p>Status: <span id="clientStatusSpan">Disconnected</span></p>
    </div>
    <hr>
    <div>
        <h3>Actions:</h3>
        <input type="text" id="clientNameInput" placeholder="Your Client Name (for registration)">
        <button id="registerBtn" disabled>Register Client</button>
        <br><br>
        <button id="authenticateBtn" disabled>Authenticate with Token</button>
        <br><br>
        <input type="text" id="secretKeyInput" placeholder="Secret Key to Request">
        <button id="requestSecretBtn" disabled>Request Secret</button>
        <br><br>
        <button id="listSecretsBtn" disabled>List Authorized Secrets</button>
    </div>
     <hr>
    <div>
        <h3>Send Custom JSON Message:</h3>
        <textarea id="customMessageInput" rows="4" style="width: 90%;" placeholder='{ "type": "YOUR_TYPE", "payload": { ... } }'></textarea>
        <button id="sendCustomBtn" disabled>Send Custom JSON</button>
    </div>

    <script src="/js/client-example-script.js" defer></script>
</body>
</html>
